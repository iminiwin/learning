# git常用操作
目前来说，版本控制主要分为：集中式版本控制（Centralized Version Control Systems，简称 CVCS）和分布式版本控制，（Distributed Version Control System，简称 DVCS）。

CVCS的代表主要有CVS、SVN 以及 Perforce 等； 

DVCS主要有 Git、Mercurial、Bazaar 以及 Darcs 等。我们平时比较常用的就是SVN和Git。

如想了解SVN的简单使用，可以查看：SVN的介绍与使用流程  。接下就开始介绍Git的简单操作使用。以下主要对官方文档以及其他文档的总结，如果需要查看详细官方文档，可以跳转到这里：https://git-scm.com/book/zh/v2

## 工作区域的三种状态

Git 有三种状态，你的文件可能处于其中之一：已提交（committed）、已修改（modified）和已暂存（staged）。由此引入 Git 项目的三个工作区域的概念：Git 仓库、工作目录以及暂存区域，如下图所示。


![avatar](https://img-blog.csdn.net/20180417210925330)

Git 仓库：是 Git 用来保存项目的元数据和对象数据库的地方。 这其它计算机克隆仓库时，拷贝的就是这里的数据。

工作目录：是对项目的某个版本独立提取出来的内容。这些从 Git 仓库提取出来的文件，放在磁盘上供你使用或修改。

暂存区域：是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作“索引“，不过一般说法还是叫暂存区域。
### 三种工作区域和三种文件状态关系

如果 Git 目录中保存着的特定版本文件，就属于已提交状态； 如果作了修改并已放入暂存区域，就属于已暂存状态； 如果自上次取出到工作目录，作了修改但还没有放到暂存区域，就是已修改状态。

### Git 的基本工作流程如下

其实上面的流程图，也是在实际工作中的大体流程，简介的概括如下：

1、在工作目录中修改文件。
2、暂存文件，将文件的快照放入暂存区域；
3、提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库目录。

## Git 保证完整性

Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。  若你在传送过程中丢失信息或损坏文件，Git 就能发现。

用以计算校验和的机制叫做 SHA-1 散列（hash，哈希）。这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来；如


```
24b9da6552252987aa493b52f8696cd6d3b00373
```
Git 数据库中保存的信息都是以文件内容的哈希值来索引，即commit id ，而不是文件名。如

```
git show 24b9da6552
```
这里指定了commit id，则相当于指定了这次提交的记录。而且不一定写入整个id，一般需要6-8位则可以确定。


### 文件的生命周期
工作目录下的每一个文件都不外乎这两种状态：已跟踪或未跟踪。

已跟踪的文件：是指那些被纳入了版本控制的文件，在上一次快照中有它们的记录，在工作一段时间后，它们的状态可能处于未修改，已修改或已放入暂存区。 初次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪文件，并处于未修改状态。

未跟踪文件：工作目录中除已跟踪文件以外的所有其它文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有放入暂存区。

编辑过某些文件之后，由于自上次提交后你对它们做了修改，Git 将它们标记为已修改文件。 我们逐步将这些修改过的文件放入暂存区，然后提交所有暂存了的修改，如此反复。所以使用 Git 时文件的生命周期如下：


![avatar](https://img-blog.csdn.net/20180417212109589)

可以通过`git status`查看文件的当前状态，简单介绍下每个状态：

1.Untracked：未纳入版本库中的文件，即未跟踪；

2.Unmodified：已纳入版本库的文件，未做修改；

3.Modified：已纳入版本库的文件，已修改；

4.Staged：添加到缓存区的文件；

## Git指令的使用

```
git --help
```
### 提交文件
```
git add . // 表示将所有修改添加到暂存区（包括删除的、新建立的文件等所有）
git add <file1> <file2> <file3>
git status
git commit -m <commit log>  使用-m 参数 ，附带简明提交说明信息。
git commit -a -m <commit log>  
```

### 移除文件
从git中将已跟踪的文件从工作目录、暂存区移除，注意是已跟踪的。如果该文件又是已修改的，可以使用参数 -f 强制删除。

如果移除未跟踪的文件，或者只在工作目录移除，在暂存区继续保留，那么可以执行：

```
git rm  <file> 
git rm --cached  <file> 
```
### 移动文件

```
git mv README.md  README     // 将README.md 重新命名 README
git mv README    test/       //将 README文件 移动到test目录下
```
==
```
$ mv README.md README
$ git rm README.md
$ git add README
```
### 查看文件差异

```
git diff
git diff  --cached
git diff README.md 
git diff <commitId_1> <commitId_2>  [path]
```
### 查看历史记录 

```

```






## 博客
[Git常用的操作](https://blog.csdn.net/pzm1993/article/details/79980258)